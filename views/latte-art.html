<!doctype html>
<html>
  <head>
    <title>Latte Art by Praful Mathur</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
    />
    <link rel="stylesheet" href="skeleton.css" type="text/css" />
    <link rel="stylesheet" href="style.css" type="text/css" />
  </head>

  <body>
    <div class="container">
      <div class="title row">Hi, I'm Praful</div>
      <div class="latte-gallery" id="latte-gallery">
        <!-- Images will be loaded dynamically -->
      </div>
      <div class="backbutton row">
        <a href="/about">back</a>
      </div>
    </div>
  </body>
  
  <!-- Latte Art Gallery Script -->
  <script>
    async function loadLatteArtGallery() {
      try {
        const response = await fetch('/api/latte-art-images');
        const images = await response.json();
        
        const gallery = document.getElementById('latte-gallery');
        gallery.innerHTML = '';
        
        images.forEach(image => {
          const item = document.createElement('div');
          item.className = 'latte-item';
          
          const date = document.createElement('div');
          date.className = 'latte-date';
          date.textContent = image.displayDate;
          
          const img = document.createElement('img');
          img.src = `/images/latte-art/${image.filename}`;
          img.alt = `Latte art from ${image.displayDate}`;
          
          item.appendChild(date);
          item.appendChild(img);
          gallery.appendChild(item);
        });
      } catch (error) {
        console.error('Failed to load latte art gallery:', error);
        // Fallback: show error message or keep empty
        const gallery = document.getElementById('latte-gallery');
        gallery.innerHTML = '<p>Unable to load images. Please refresh the page.</p>';
      }
    }
    
    // Load gallery when page loads
    document.addEventListener('DOMContentLoaded', loadLatteArtGallery);
  </script>

  <!-- Google tag (gtag.js) -->
  <script
    async
    src="https://www.googletagmanager.com/gtag/js?id=UA-80816478-1"
  ></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'UA-80816478-1');
  </script>
</html> 